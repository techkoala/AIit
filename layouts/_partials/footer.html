{{- if ne .Site.Params.footer.enable false -}}
<footer class="footer">
    <div class="footer-container">
        {{- /* Block 1: About */ -}}
        <div class="footer-line">
            <span class="footer-title">{{ T "about" | default "About" }}</span>
            <div class="footer-block-content">
                {{- with .Site.Params.footer.custom -}}
                {{- safeHTML . -}}
                {{- else -}}
                {{ .Site.Description | default .Site.Title }}
                {{- end -}}
            </div>
        </div>

        {{- /* Block 2: Tech Stack */ -}}
        <div class="footer-line">
            <span class="footer-title">{{ T "techStack" | default "Tech Stack" }}</span>
            <div class="footer-block-content">
                {{- $post_info := slice -}}
                {{- if ne .Site.Params.footer.hugo false -}}
                {{- $hugo := printf `<a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer"
                    title="Hugo %v">Hugo</a>` hugo.Version -}}
                {{- $post_info = $post_info | append $hugo -}}
                {{- end -}}
                {{- with .Site.Params.footer.hostedon -}}
                {{- $post_info = $post_info | append . -}}
                {{- end -}}
                {{- if ne .Site.Params.footer.hugo false -}}
                {{- $theme := printf `<a href="https://github.com/techkoala/AIit" target="_blank"
                    rel="noopener noreferrer" title="AIit Theme">AIit</a>` -}}
                {{- $post_info = $post_info | append $theme -}}
                {{- end -}}
                <div class="stack-links">
                    {{ delimit $post_info " â€¢ " | safeHTML }}
                </div>
            </div>
        </div>

        {{- /* Block 3: Copyright */ -}}
        <div class="footer-line">
            <span class="footer-title">{{ T "copyright" | default "Copyright" }}</span>
            <div class="footer-block-content">
                {{- if ne .Site.Params.footer.copyright false -}}
                {{ partial "plugin/fontawesome.html" (dict "Style" "regular" "Icon" "copyright") }}
                {{- with .Site.Params.footer.since -}}
                {{- if lt . now.Year }}{{ . }} - {{ end }}{{ now.Year -}}
                {{- else -}}
                {{ now.Year }}
                {{- end -}}
                {{- end -}}
                <span class="author">&nbsp;{{- with .Site.Params.author.link -}}
                    <a href="{{ . }}" target="_blank" rel="noopener noreffer" title="{{ $.Site.Params.author.name }}">{{
                        $.Site.Params.author.name }}</a>{{- else -}}
                    {{ .Site.Params.author.name }}
                    {{- end -}}</span>
                {{- with .Site.Params.footer.license -}}
                <div class="license">{{ . | safeHTML }}</div>
                {{- end -}}
            </div>
        </div>

        {{- /* Block 4: Statistics */ -}}
        <div class="footer-line">
            <span class="footer-title">{{ T "stats" | default "Statistics" }}</span>
            <div class="footer-block-content">
                {{- if eq .Site.Params.ibruce.enable true -}}
                <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                <span class="post-meta-item" id="busuanzi_container_site_pv">
                    {{ partial "plugin/fontawesome.html" (dict "Style" "regular" "Icon" "eye") }}
                    <span id="busuanzi_value_site_pv"></span> Views
                </span>
                {{- end -}}
                {{- with .Site.Params.footer.icp -}}
                <div class="icp">{{ . | safeHTML }}</div>
                {{- end -}}
            </div>
        </div>
    </div>
    {{- /* PWA */ -}}
    {{- if eq .Site.Params.enablePWA true -}}
    {{- if eq hugo.Environment "production" -}}
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker
                .register('/sw.min.js', { scope: '/' })
                .then(function (registration) {
                });

            navigator.serviceWorker
                .ready
                .then(function (registration) {
                });
        }
    </script>
    {{- end -}}
    {{- end -}}

</footer>
{{- end -}}